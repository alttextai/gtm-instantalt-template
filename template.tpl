___TERMS_OF_SERVICE___

By creating or modifying this file you agree to Google Tag Manager's Community
Template Gallery Developer Terms of Service available at
https://developers.google.com/tag-manager/gallery-tos (or such other URL as
Google may provide), as modified from time to time.


___INFO___

{
  "type": "TAG",
  "id": "cvt_temp_public_id",
  "version": 1,
  "securityGroups": [],
  "displayName": "InstantAlt Automatic Alt Text",
  "categories": ["MARKETING"],
  "brand": {
    "id": "brand_dummy",
    "displayName": "AltText.ai",
    "thumbnail": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAMAAADDpiTIAAACOlBMVEUAAAAgV98bWtocWNsbWNoaVtsbV9waV9sbV9saV9obVtsaVtsaVtsaVtkgWN8gUN8aWtoZVtkbV9sbVtsbVtsbVdofT98aVtwaV9waVtsbV9wcWNsaV9waVtwbWNobV9sgUN8gYN8gV98aVtsaVtkcV90cVeMgWN8aVtsZV9gbV9saV9obWtobVtwaV9sbVtwaWtofUN8aVtsXXdEZVtkSW9saTeY3a99hi+ZwlelTgORFduKpwPHx9f3////i6vvG1fbh6vspYd2bte8oYd04bN/j6vvh6fspYt3U3/iate8bVtu4yvS3yvSpv/H+/v8VVdWNq+3E1fY4a9/F1PaMqu2AoOuov/EbV9uZte9UgOTT3vjw8/1xlen+//9iiubw9P1+oOtGduJxlunT3/hGd+K3y/QZV9vE1PYgVd8jXt0rZN89c+NOgug1bOI9dORnl+6BrfWTvPmkyv6KtPciXt0rZd+Tu/mKtfdFe+UsZd8bVdpXiep5pvOcw/yTu/pwn/FOgehGeuUdVtxol+5Wieqbw/xomO5fkOw0bOJii+YbVd0cVtwiVd0bV9sgUN8bVdwUTtgbVtsaVtoaV9wYWN8aV9l/oOsYWNeowPEbVdwaVtoaV9zF1fYaV9lFeuYtZd8aVtujyv6LtPe2yvSaw/w9c+QkXd0aVtpGeuZfkO0aVtoYWNdol+8aVtxWiet5pfM8c+MYV9cbVtsbVtoaV9wZVtobVdoYV9caVtoZVtobVdodVtwaWNob0CeWAAAAvnRSTlMAIDBAYICfr7/f7//PUCAQMFBwj3BgEN+vf55B395hvhEBIf5RcAEh7nCOnzFgrl8xEc4BUQEB/////////////////////////////////wH/////////////////////////////cP8x//////////////////////+P/////////1H/////////YK8BcQGQAc/OniCv/yH/YKCf/7D//+/////////P///eIP+v////Ie6grp8xIN+gkFBg/vye5gAAFxNJREFUeAHs1cFigyAMgOGMCMQEjYW5rnv/B507eV5rBdp8N85/EuB9fDgcBu9DiETjhmW3PRMRheD9MKGb4VUYXS65BBpZ/oUTRf85oUKn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\u003d\u003d"
  },
  "description": "Automatically generate alt text using AltText.ai and our InstantAlt website script.",
  "containerContexts": [
    "WEB"
  ]
}


___TEMPLATE_PARAMETERS___

[
  {
    "type": "LABEL",
    "name": "instructions",
    "displayName": "Copy and paste the Site Key for your InstantAlt site in the box below. Once this tag is live on your website, alt text will be automatically added to images on each page."
  },
  {
    "type": "TEXT",
    "name": "siteKey",
    "displayName": "Site Key",
    "simpleValueType": true
  }
]


___SANDBOXED_JS_FOR_WEB_TEMPLATE___

const encodeUriComponent = require('encodeUriComponent');
const injectScript = require('injectScript');
const setInWindow = require('setInWindow');
const log = require('logToConsole');

const siteKey = data.siteKey;
const scriptUrl = 'https://ujs.alttext.ai/alttextai-ujs.js?site-key=' + encodeUriComponent(siteKey);


const ataiOnSuccess = () => {
  log('ATAI InstantAlt script injection SUCCESS.');
  return true;
};

const ataiOnFailure = () => {
  log('ATAI InstantAlt script injection failed.');
  return false;
};

const ataiConfig = { siteKey: siteKey };
const configIsSet = setInWindow('ataiConfig', ataiConfig, false);
injectScript(scriptUrl, ataiOnSuccess, ataiOnFailure, 'atai-instant-alt-cache');

// Call data.gtmOnSuccess when the tag is finished.
data.gtmOnSuccess();


___WEB_PERMISSIONS___

[
  {
    "instance": {
      "key": {
        "publicId": "logging",
        "versionId": "1"
      },
      "param": [
        {
          "key": "environments",
          "value": {
            "type": 1,
            "string": "debug"
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "inject_script",
        "versionId": "1"
      },
      "param": [
        {
          "key": "urls",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 1,
                "string": "https://*.alttext.ai/alttextai-ujs.js*"
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "access_globals",
        "versionId": "1"
      },
      "param": [
        {
          "key": "keys",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "ataiConfig"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": false
                  }
                ]
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  }
]


___TESTS___

scenarios: []


___NOTES___

Created on 10/22/2025, 1:17:50 PM


